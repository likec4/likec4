{
  _type: 'dynamic',
  tags: null,
  links: null,
  _stage: 'layouted',
  sourcePath: 'model.c4',
  description: null,
  title: 'Cloud to amazon',
  id: 'cloud-to-amazon',
  variant: 'diagram',
  autoLayout: {
    direction: 'TB',
  },
  notation: {
    nodes: [
      {
        title: 'Application',
        shape: 'rectangle',
        color: 'primary',
        kinds: [
          'app',
        ],
      },
      {
        title: 'External System',
        shape: 'rectangle',
        color: 'amber',
        kinds: [
          'externalSystem',
        ],
      },
    ],
  },
  hash: 'dad1b57267cc266968df2d2b1b452cdf6ac7d4e4',
  sequenceLayout: {
    actors: [
      {
        id: 'cloud.next.backend',
        x: 32,
        y: 52,
        width: 320,
        height: 180,
        ports: [
          {
            id: 'step-01_source',
            cx: 160,
            cy: 338,
            height: 40,
            type: 'source',
            position: 'right',
          },
          {
            id: 'step-02.2_source',
            cx: 160,
            cy: 580,
            height: 40,
            type: 'source',
            position: 'right',
          },
        ],
      },
      {
        id: 'cloud.next.events',
        x: 412,
        y: 52,
        width: 320,
        height: 180,
        ports: [
          {
            id: 'step-01_target',
            cx: 160,
            cy: 338,
            height: 24,
            type: 'target',
            position: 'left',
          },
          {
            id: 'step-02.1_source',
            cx: 160,
            cy: 487,
            height: 40,
            type: 'source',
            position: 'right',
          },
        ],
      },
      {
        id: 'amazon.sqs',
        x: 828,
        y: 52,
        width: 320,
        height: 180,
        ports: [
          {
            id: 'step-02.1_target',
            cx: 160,
            cy: 487,
            height: 24,
            type: 'target',
            position: 'left',
          },
        ],
      },
      {
        id: 'cloud.ui.supportPanel',
        x: 1244,
        y: 52,
        width: 320,
        height: 180,
        ports: [
          {
            id: 'step-02.3_source',
            cx: 160,
            cy: 693,
            height: 40,
            type: 'source',
            position: 'right',
          },
        ],
      },
      {
        id: 'amazon.rds.aurora',
        x: 1660,
        y: 52,
        width: 320,
        height: 180,
        ports: [
          {
            id: 'step-02.2_target',
            cx: 160,
            cy: 580,
            height: 24,
            type: 'target',
            position: 'left',
          },
          {
            id: 'step-02.3_target',
            cx: 160,
            cy: 693,
            height: 24,
            type: 'target',
            position: 'left',
          },
        ],
      },
    ],
    compounds: [
      {
        depth: 0,
        x: 0,
        y: 0,
        width: 764,
        height: 745,
        id: 'cloud.next',
        origin: 'cloud.next',
      },
      {
        depth: 0,
        x: 796,
        y: 0,
        width: 384,
        height: 632,
        id: 'amazon-1',
        origin: 'amazon',
      },
      {
        depth: 0,
        x: 1628,
        y: 0,
        width: 384,
        height: 858,
        id: 'amazon-2',
        origin: 'amazon',
      },
      {
        depth: 0,
        x: 1212,
        y: 0,
        width: 384,
        height: 858,
        id: 'cloud.ui',
        origin: 'cloud.ui',
      },
    ],
    steps: [
      {
        id: 'step-01',
        sourceHandle: 'step-01_source',
        targetHandle: 'step-01_target',
        labelBBox: {
          width: 87,
          height: 27,
        },
      },
      {
        id: 'step-02.1',
        sourceHandle: 'step-02.1_source',
        targetHandle: 'step-02.1_target',
        labelBBox: {
          width: 154,
          height: 27,
        },
      },
      {
        id: 'step-02.2',
        sourceHandle: 'step-02.2_source',
        targetHandle: 'step-02.2_target',
        labelBBox: {
          width: 126,
          height: 47,
        },
      },
      {
        id: 'step-02.3',
        sourceHandle: 'step-02.3_source',
        targetHandle: 'step-02.3_target',
        labelBBox: {
          width: 237,
          height: 47,
        },
      },
    ],
    parallelAreas: [
      {
        parallelPrefix: 'step-02.',
        x: 162,
        y: 483,
        width: 1688,
        height: 359,
      },
    ],
    bounds: {
      x: 0,
      y: 0,
      width: 2012,
      height: 858,
    },
  },
  bounds: {
    x: 8,
    y: -35,
    width: 1165,
    height: 1011,
  },
  nodes: [
    {
      id: 'cloud.next',
      parent: null,
      level: 0,
      children: [
        'cloud.next.backend',
        'cloud.next.events',
      ],
      inEdges: [],
      outEdges: [
        'step-02.1',
        'step-02.2',
      ],
      title: 'Cloud Next',
      modelRef: 'cloud.next',
      shape: 'rectangle',
      color: 'primary',
      style: {
        opacity: 40,
        size: 'md',
      },
      description: {
        txt: 'Cloud Next is the next version of our cloud systems',
      },
      tags: [],
      kind: 'container',
      depth: 1,
      navigateTo: 'cloud_next',
      x: 8,
      y: -35,
      width: 736,
      height: 664,
      labelBBox: {
        x: 6,
        y: 0,
        width: 77,
        height: 15,
      },
    },
    {
      id: 'cloud.next.backend',
      parent: 'cloud.next',
      level: 1,
      children: [],
      inEdges: [],
      outEdges: [
        'step-01',
        'step-02.2',
      ],
      title: 'Backend V2',
      modelRef: 'cloud.next.backend',
      shape: 'rectangle',
      color: 'primary',
      icon: 'tech:nestjs',
      style: {
        opacity: 15,
        size: 'md',
        multiple: true,
      },
      description: {
        txt: 'The next version of backend',
      },
      tags: [
        'api',
      ],
      notation: 'Application',
      kind: 'app',
      navigateTo: 'backend',
      x: 383,
      y: 20,
      width: 320,
      height: 180,
      labelBBox: {
        x: 50,
        y: 64,
        width: 251,
        height: 46,
      },
    },
    {
      id: 'cloud.next.events',
      parent: 'cloud.next',
      level: 1,
      children: [],
      inEdges: [
        'step-01',
      ],
      outEdges: [
        'step-02.1',
      ],
      title: 'Events Manager',
      modelRef: 'cloud.next.events',
      shape: 'rectangle',
      color: 'primary',
      style: {
        opacity: 50,
        size: 'md',
      },
      tags: [],
      kind: 'component',
      x: 48,
      y: 409,
      width: 320,
      height: 180,
      labelBBox: {
        x: 85,
        y: 75,
        width: 150,
        height: 24,
      },
    },
    {
      id: 'amazon',
      parent: null,
      level: 0,
      children: [
        'amazon.sqs',
        'amazon.rds.aurora',
      ],
      inEdges: [
        'step-02.1',
        'step-02.2',
        'step-02.3',
      ],
      outEdges: [],
      title: 'Amazon',
      modelRef: 'amazon',
      shape: 'rectangle',
      color: 'amber',
      icon: 'tech:amazon-web-services',
      style: {
        opacity: 40,
        size: 'md',
      },
      description: {
        txt: 'Cloud and managed services provider',
      },
      tags: [],
      notation: 'External System',
      kind: 'externalSystem',
      depth: 1,
      navigateTo: 'amazon',
      x: 8,
      y: 695,
      width: 830,
      height: 281,
      labelBBox: {
        x: 6,
        y: 0,
        width: 53,
        height: 15,
      },
    },
    {
      id: 'amazon.sqs',
      parent: 'amazon',
      level: 1,
      children: [],
      inEdges: [
        'step-02.1',
      ],
      outEdges: [],
      title: 'SQS',
      modelRef: 'amazon.sqs',
      shape: 'rectangle',
      color: 'primary',
      icon: 'aws:simple-queue-service',
      style: {
        opacity: 50,
        size: 'md',
      },
      description: {
        txt: 'Simple Queue Service',
      },
      tags: [],
      kind: 'container',
      navigateTo: 'amazon_sqs',
      x: 48,
      y: 756,
      width: 320,
      height: 180,
      labelBBox: {
        x: 70,
        y: 64,
        width: 210,
        height: 47,
      },
    },
    {
      id: 'cloud.ui',
      parent: null,
      level: 0,
      children: [
        'cloud.ui.supportPanel',
      ],
      inEdges: [],
      outEdges: [
        'step-02.3',
      ],
      title: 'Frontends',
      modelRef: 'cloud.ui',
      shape: 'browser',
      color: 'primary',
      style: {
        opacity: 40,
        size: 'md',
      },
      description: {
        txt: 'All the frontend applications\nof Cloud System',
      },
      tags: [],
      kind: 'container',
      depth: 1,
      navigateTo: 'cloud_ui',
      x: 789,
      y: 355,
      width: 384,
      height: 266,
      labelBBox: {
        x: 6,
        y: 1,
        width: 74,
        height: 15,
      },
    },
    {
      id: 'cloud.ui.supportPanel',
      parent: 'cloud.ui',
      level: 1,
      children: [],
      inEdges: [],
      outEdges: [
        'step-02.3',
      ],
      title: 'Support Panel',
      modelRef: 'cloud.ui.supportPanel',
      shape: 'rectangle',
      color: 'primary',
      icon: 'tech:astro',
      style: {
        opacity: 15,
        size: 'md',
        multiple: true,
      },
      description: {
        txt: 'Retoool Application',
      },
      tags: [],
      notation: 'Application',
      kind: 'app',
      navigateTo: 'cloud_ui_supportPanel',
      x: 821,
      y: 409,
      width: 320,
      height: 180,
      labelBBox: {
        x: 80,
        y: 64,
        width: 190,
        height: 47,
      },
    },
    {
      id: 'amazon.rds.aurora',
      parent: 'amazon',
      level: 1,
      children: [],
      inEdges: [
        'step-02.2',
        'step-02.3',
      ],
      outEdges: [],
      title: 'Aurora',
      modelRef: 'amazon.rds.aurora',
      shape: 'storage',
      color: 'secondary',
      icon: 'tech:mysql',
      style: {
        opacity: 50,
        size: 'md',
      },
      description: {
        txt: 'Aurora RDS',
      },
      tags: [
        'db',
      ],
      kind: 'component',
      x: 478,
      y: 756,
      width: 320,
      height: 180,
      labelBBox: {
        x: 104,
        y: 64,
        width: 142,
        height: 47,
      },
    },
  ],
  edges: [
    {
      id: 'step-01',
      source: 'cloud.next.backend',
      target: 'cloud.next.events',
      label: 'triggers',
      dotpos: 'e,208,408.86 208,249.11 208,295.02 208,351.23 208,398.58',
      points: [
        [
          208,
          249,
        ],
        [
          208,
          295,
        ],
        [
          208,
          351,
        ],
        [
          208,
          399,
        ],
      ],
      labelBBox: {
        x: 262,
        y: 280.5,
        width: 71,
        height: 19,
      },
      parent: 'cloud.next',
      relations: [
        'tjd6lh',
      ],
      color: 'gray',
      line: 'dashed',
      head: 'normal',
      tags: [],
      astPath: '/steps@0',
      notes: {
        txt: '- Backend triggers EventManager\n- These calls enriched with data before publishing',
      },
      controlPoints: [
        {
          x: 208,
          y: 323,
        },
      ],
    },
    {
      id: 'step-02.1',
      source: 'cloud.next.events',
      target: 'amazon.sqs',
      label: 'publishes events',
      dotpos: 'e,208,756.09 208,588.66 208,636.69 208,696.13 208,745.68',
      points: [
        [
          208,
          589,
        ],
        [
          208,
          637,
        ],
        [
          208,
          696,
        ],
        [
          208,
          746,
        ],
      ],
      labelBBox: {
        x: 208,
        y: 667.5,
        width: 138,
        height: 19,
      },
      parent: null,
      relations: [
        '13t2tod',
        '1kvdqv3',
        '1tl8shp',
      ],
      color: 'gray',
      line: 'dashed',
      head: 'normal',
      tags: [],
      astPath: '/steps@1/steps@0',
    },
    {
      id: 'step-02.2',
      source: 'cloud.next.backend',
      target: 'amazon.rds.aurora',
      label: 'reads/writes',
      dotpos: 'e,611.27,755.13 323.81,249.37 358.8,280.18 395.26,316.73 423,355.25 511.07,477.51 573.87,641.55 608.06,745.28',
      points: [
        [
          324,
          249,
        ],
        [
          359,
          280,
        ],
        [
          395,
          317,
        ],
        [
          423,
          355,
        ],
        [
          511,
          478,
        ],
        [
          574,
          642,
        ],
        [
          608,
          745,
        ],
      ],
      labelBBox: {
        x: 473.5,
        y: 465,
        width: 110,
        height: 19,
      },
      parent: null,
      relations: [
        '14uyrh3',
      ],
      color: 'gray',
      line: 'dashed',
      head: 'normal',
      tags: [],
      astPath: '/steps@1/steps@1',
      navigateTo: 'cloud-to-amazon',
      controlPoints: [
        {
          x: 376,
          y: 299,
        },
        {
          x: 536,
          y: 558,
        },
      ],
    },
    {
      id: 'step-02.3',
      source: 'cloud.ui.supportPanel',
      target: 'amazon.rds.aurora',
      label: 'reads users from the database',
      dotpos: 'e,727.22,755.19 892.67,588.66 844.24,637.41 784.13,697.91 734.47,747.9',
      points: [
        [
          893,
          589,
        ],
        [
          844,
          637,
        ],
        [
          784,
          698,
        ],
        [
          734,
          748,
        ],
      ],
      labelBBox: {
        x: 813.5,
        y: 668.5,
        width: 221,
        height: 19,
      },
      parent: null,
      relations: [
        '1h2p6gr',
      ],
      color: 'gray',
      line: 'dashed',
      head: 'normal',
      tags: [],
      astPath: '/steps@1/steps@2',
      navigateTo: 'cloud-to-amazon',
    },
  ],
  _layout: 'manual',
}
