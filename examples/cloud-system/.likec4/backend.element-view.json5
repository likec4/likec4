{
  _type: 'element',
  tags: null,
  links: null,
  viewOf: 'cloud.next.backend',
  _stage: 'layouted',
  sourcePath: 'cloud/next.c4',
  description: null,
  title: 'Backend V2',
  id: 'backend',
  autoLayout: {
    direction: 'TB',
  },
  notation: {
    nodes: [
      {
        title: 'Application',
        shape: 'rectangle',
        color: 'primary',
        kinds: [
          'app',
        ],
      },
      {
        title: 'External System',
        shape: 'rectangle',
        color: 'muted',
        kinds: [
          'externalSystem',
        ],
      },
      {
        title: 'Software system',
        shape: 'rectangle',
        color: 'muted',
        kinds: [
          'system',
        ],
      },
    ],
  },
  hash: 'e45142199da989e5ce1f9d1b61952473a483f3cb',
  bounds: {
    x: -256,
    y: 241,
    width: 1459,
    height: 1084,
  },
  nodes: [
    {
      id: 'cloud',
      parent: null,
      level: 0,
      children: [
        'cloud.next',
        'cloud.legacy',
      ],
      inEdges: [],
      outEdges: [
        '1elbqem',
        '148txyu',
      ],
      title: 'Cloud System',
      modelRef: 'cloud',
      shape: 'rectangle',
      color: 'muted',
      style: {
        opacity: 10,
        size: 'md',
      },
      description: {
        txt: 'Our SaaS platfrom that allows\ncustomers to interact with\nthe latest technologies',
      },
      tags: [],
      notation: 'Software system',
      kind: 'system',
      depth: 2,
      navigateTo: 'cloud',
      x: -76,
      y: 241,
      width: 1279,
      height: 893,
      labelBBox: {
        x: 6,
        y: 0,
        width: 93,
        height: 15,
      },
    },
    {
      id: 'cloud.next',
      parent: 'cloud',
      level: 1,
      children: [
        'cloud.next.graphql',
        'cloud.next.backend',
        'cloud.next.events',
      ],
      inEdges: [],
      outEdges: [
        '1elbqem',
        '1mrbzo2',
      ],
      title: 'Cloud Next',
      modelRef: 'cloud.next',
      shape: 'rectangle',
      color: 'muted',
      style: {
        opacity: 50,
        size: 'md',
      },
      description: {
        txt: 'Cloud Next is the next version of our cloud systems',
      },
      tags: [],
      kind: 'container',
      depth: 1,
      navigateTo: 'cloud_next',
      x: -36,
      y: 296,
      width: 1199,
      height: 798,
      labelBBox: {
        x: 6,
        y: 0,
        width: 77,
        height: 15,
      },
    },
    {
      id: 'cloud.next.graphql',
      parent: 'cloud.next',
      level: 2,
      children: [],
      inEdges: [],
      outEdges: [
        '8gzokf',
      ],
      title: 'GraphQL',
      modelRef: 'cloud.next.graphql',
      shape: 'rectangle',
      color: 'muted',
      icon: 'tech:graphql',
      style: {
        opacity: 50,
        size: 'md',
      },
      description: {
        txt: 'GraphQL API for the backend\nUses Apollo Server',
      },
      tags: [
        'api',
        'next',
      ],
      kind: 'component',
      navigateTo: 'graphql',
      x: 802,
      y: 351,
      width: 321,
      height: 180,
      labelBBox: {
        x: 47,
        y: 55,
        width: 259,
        height: 65,
      },
    },
    {
      id: 'cloud.next.backend',
      parent: 'cloud.next',
      level: 2,
      children: [],
      inEdges: [
        '8gzokf',
      ],
      outEdges: [
        '1elbqem',
        '1mrbzo2',
        '1590sfl',
      ],
      title: 'Backend V2',
      modelRef: 'cloud.next.backend',
      shape: 'rectangle',
      color: 'primary',
      icon: 'tech:nestjs',
      style: {
        opacity: 15,
        size: 'md',
        multiple: true,
      },
      description: {
        txt: 'The next version of backend',
      },
      tags: [
        'api',
      ],
      notation: 'Application',
      kind: 'app',
      x: 89,
      y: 453,
      width: 320,
      height: 180,
      labelBBox: {
        x: 50,
        y: 64,
        width: 251,
        height: 47,
      },
    },
    {
      id: 'cloud.legacy',
      parent: 'cloud',
      level: 1,
      children: [],
      inEdges: [
        '1mrbzo2',
      ],
      outEdges: [
        '148txyu',
      ],
      title: 'Cloud Legacy',
      modelRef: 'cloud.legacy',
      shape: 'rectangle',
      color: 'muted',
      style: {
        opacity: 50,
        size: 'md',
      },
      description: {
        txt: 'The legacy version of our SaaS\nMVP as was presented to the first customers',
      },
      tags: [],
      links: [
        {
          url: './.github/workflows/update-diagrams.yml#L19-L25',
          title: 'L19-L25',
          relative: '.github/workflows/update-diagrams.yml#L19-L25',
        },
      ],
      kind: 'container',
      navigateTo: 'cloud_legacy',
      x: 519,
      y: 795,
      width: 340,
      height: 180,
      labelBBox: {
        x: 18,
        y: 55,
        width: 305,
        height: 65,
      },
    },
    {
      id: 'cloud.next.events',
      parent: 'cloud.next',
      level: 2,
      children: [],
      inEdges: [
        '1590sfl',
      ],
      outEdges: [],
      title: 'Events Manager',
      modelRef: 'cloud.next.events',
      shape: 'rectangle',
      color: 'muted',
      style: {
        opacity: 50,
        size: 'md',
      },
      tags: [],
      kind: 'component',
      x: 1,
      y: 873,
      width: 320,
      height: 180,
      labelBBox: {
        x: 85,
        y: 75,
        width: 150,
        height: 24,
      },
    },
    {
      id: 'amazon',
      parent: null,
      level: 0,
      children: [],
      inEdges: [
        '1elbqem',
        '148txyu',
      ],
      outEdges: [],
      title: 'Amazon',
      modelRef: 'amazon',
      shape: 'rectangle',
      color: 'muted',
      icon: 'tech:amazon-web-services',
      style: {
        opacity: 10,
        size: 'md',
      },
      description: {
        txt: 'Cloud and managed services provider',
      },
      tags: [],
      notation: 'External System',
      kind: 'externalSystem',
      navigateTo: 'amazon',
      x: 501,
      y: 1145,
      width: 376,
      height: 180,
      labelBBox: {
        x: 46,
        y: 64,
        width: 314,
        height: 46,
      },
    },
  ],
  edges: [
    {
      id: '8gzokf',
      source: 'cloud.next.graphql',
      target: 'cloud.next.backend',
      label: '[...]',
      dotpos: 'e,249,452.93 249,310.64 249,351.62 249,400.45 249,442.64',
      points: [
        [
          249,
          311,
        ],
        [
          249,
          352,
        ],
        [
          249,
          400,
        ],
        [
          249,
          443,
        ],
      ],
      labelBBox: {
        x: 483.5,
        y: 382,
        width: 24,
        height: 18,
      },
      parent: 'cloud.next',
      relations: [
        '7vlt6f',
        'p14epf',
      ],
      color: 'gray',
      line: 'dashed',
      head: 'normal',
      controlPoints: [
        {
          x: 249,
          y: 376,
        },
      ],
    },
    {
      id: '1elbqem',
      source: 'cloud.next.backend',
      target: 'amazon',
      label: 'reads/writes',
      dotpos: 'e,849.83,1144.7 408.75,556.26 588.06,574 862.33,613.55 926,692.75 1026.8,818.15 997.76,910.75 926,1054.8 910.03,1086.8 885.28,1114.6 857.68,1138.1',
      points: [
        [
          409,
          556,
        ],
        [
          588,
          574,
        ],
        [
          862,
          614,
        ],
        [
          926,
          693,
        ],
        [
          1027,
          818,
        ],
        [
          998,
          911,
        ],
        [
          926,
          1055,
        ],
        [
          910,
          1087,
        ],
        [
          885,
          1115,
        ],
        [
          858,
          1138,
        ],
      ],
      labelBBox: {
        x: 910.5,
        y: 677.5,
        width: 77,
        height: 18,
      },
      parent: null,
      relations: [
        '14uyrh3',
      ],
      color: 'gray',
      line: 'dashed',
      head: 'normal',
      navigateTo: 'cloud-to-amazon',
    },
    {
      id: '1mrbzo2',
      source: 'cloud.next.backend',
      target: 'cloud.legacy',
      label: 'calls legacy',
      dotpos: 'e,573.88,794.79 364.03,632.64 426.05,680.56 502.61,739.72 565.84,788.58',
      points: [
        [
          364,
          633,
        ],
        [
          426,
          681,
        ],
        [
          503,
          740,
        ],
        [
          566,
          789,
        ],
      ],
      labelBBox: {
        x: 465,
        y: 711,
        width: 74,
        height: 18,
      },
      parent: 'cloud',
      relations: [
        'i1pi95',
      ],
      color: 'gray',
      line: 'dashed',
      head: 'normal',
    },
    {
      id: '1590sfl',
      source: 'cloud.next.backend',
      target: 'cloud.next.events',
      label: 'triggers',
      dotpos: 'e,220.43,795.13 216.82,632.64 208.72,664.64 203.46,701.14 208,734.75 210.24,751.31 213.81,768.63 217.94,785.36',
      points: [
        [
          217,
          633,
        ],
        [
          209,
          665,
        ],
        [
          203,
          701,
        ],
        [
          208,
          735,
        ],
        [
          210,
          751,
        ],
        [
          214,
          769,
        ],
        [
          218,
          785,
        ],
      ],
      labelBBox: {
        x: -157,
        y: 816,
        width: 49,
        height: 38,
      },
      parent: 'cloud.next',
      relations: [
        'tjd6lh',
      ],
      color: 'gray',
      line: 'dashed',
      head: 'normal',
      technology: 'REST',
      controlPoints: [
        {
          x: -255.5,
          y: 827.5,
        },
        {
          x: 212,
          y: 760,
        },
      ],
    },
    {
      id: '148txyu',
      source: 'cloud.legacy',
      target: 'amazon',
      label: 'reads/writes',
      dotpos: 'e,689,1144.7 689,974.4 689,1023.3 689,1084 689,1134.4',
      points: [
        [
          689,
          974,
        ],
        [
          689,
          1023,
        ],
        [
          689,
          1084,
        ],
        [
          689,
          1134,
        ],
      ],
      labelBBox: {
        x: 689,
        y: 1054,
        width: 77,
        height: 18,
      },
      parent: null,
      relations: [
        'wb50a3',
      ],
      color: 'gray',
      line: 'dashed',
      head: 'normal',
    },
  ],
}
