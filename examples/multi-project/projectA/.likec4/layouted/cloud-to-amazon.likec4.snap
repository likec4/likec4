{
  _type: 'dynamic',
  tags: null,
  links: null,
  _stage: 'layouted',
  sourcePath: 'model.c4',
  description: null,
  title: 'Use Cases / Cloud to amazon',
  id: 'cloud-to-amazon',
  variant: 'diagram',
  autoLayout: {
    direction: 'TB',
  },
  notation: {
    nodes: [
      {
        title: 'Application',
        shape: 'rectangle',
        color: 'primary',
        kinds: [
          'app',
        ],
      },
      {
        title: 'External System',
        shape: 'rectangle',
        color: 'amber',
        kinds: [
          'externalSystem',
        ],
      },
      {
        title: 'Software system',
        shape: 'rectangle',
        color: 'primary',
        kinds: [
          'system',
        ],
      },
    ],
  },
  hash: '8068a2d636a6aadc366c46b87613a23b331a28ec',
  sequenceLayout: {
    actors: [
      {
        id: 'cloud.next.backend',
        x: 64,
        y: 92,
        width: 320,
        height: 180,
        ports: [
          {
            id: 'step-01_source',
            cx: 160,
            cy: 370,
            height: 40,
            type: 'source',
            position: 'right',
          },
          {
            id: 'step-03_source',
            cx: 160,
            cy: 485,
            height: 40,
            type: 'source',
            position: 'right',
          },
          {
            id: 'step-04.3_source',
            cx: 160,
            cy: 839,
            height: 40,
            type: 'source',
            position: 'right',
          },
        ],
      },
      {
        id: 'cloud.next.graphql',
        x: 444,
        y: 92,
        width: 321,
        height: 180,
        ports: [
          {
            id: 'step-04.2_source',
            cx: 161,
            cy: 747,
            height: 40,
            type: 'source',
            position: 'right',
          },
        ],
      },
      {
        id: 'cloud.next.events',
        x: 825,
        y: 92,
        width: 320,
        height: 180,
        ports: [
          {
            id: 'step-01_target',
            cx: 160,
            cy: 370,
            height: 24,
            type: 'target',
            position: 'left',
          },
          {
            id: 'step-02_source',
            cx: 160,
            cy: 392,
            height: 40,
            type: 'source',
            position: 'right',
          },
          {
            id: 'step-04.1_source',
            cx: 160,
            cy: 654,
            height: 40,
            type: 'source',
            position: 'right',
          },
        ],
      },
      {
        id: 'amazon.sqs',
        x: 1273,
        y: 92,
        width: 320,
        height: 180,
        ports: [
          {
            id: 'step-02_target',
            cx: 160,
            cy: 392,
            height: 24,
            type: 'target',
            position: 'left',
          },
          {
            id: 'step-04.1_target',
            cx: 160,
            cy: 654,
            height: 24,
            type: 'target',
            position: 'left',
          },
        ],
      },
      {
        id: 'amazon.rds.aurora',
        x: 1653,
        y: 92,
        width: 320,
        height: 180,
        ports: [
          {
            id: 'step-03_target',
            cx: 160,
            cy: 485,
            height: 24,
            type: 'target',
            position: 'left',
          },
          {
            id: 'step-04.3_target',
            cx: 160,
            cy: 839,
            height: 24,
            type: 'target',
            position: 'left',
          },
        ],
      },
      {
        id: 'amazon.rds.pg',
        x: 2033,
        y: 92,
        width: 320,
        height: 180,
        ports: [
          {
            id: 'step-04.2_target',
            cx: 160,
            cy: 747,
            height: 24,
            type: 'target',
            position: 'left',
          },
        ],
      },
    ],
    compounds: [
      {
        depth: 1,
        x: 0,
        y: 0,
        width: 1209,
        height: 1076,
        id: 'cloud',
        origin: 'cloud',
      },
      {
        depth: 0,
        x: 32,
        y: 40,
        width: 1145,
        height: 1004,
        id: 'cloud.next',
        origin: 'cloud.next',
      },
      {
        depth: 0,
        x: 1241,
        y: 0,
        width: 1144,
        height: 1044,
        id: 'amazon',
        origin: 'amazon',
      },
    ],
    steps: [
      {
        id: 'step-01',
        sourceHandle: 'step-01_source',
        targetHandle: 'step-01_target',
        labelBBox: {
          width: 89,
          height: 27,
        },
      },
      {
        id: 'step-02',
        sourceHandle: 'step-02_source',
        targetHandle: 'step-02_target',
        labelBBox: {
          width: 146,
          height: 27,
        },
      },
      {
        id: 'step-03',
        sourceHandle: 'step-03_source',
        targetHandle: 'step-03_target',
        labelBBox: {
          width: 117,
          height: 47,
        },
      },
      {
        id: 'step-04.1',
        sourceHandle: 'step-04.1_source',
        targetHandle: 'step-04.1_target',
        labelBBox: {
          width: 157,
          height: 27,
        },
      },
      {
        id: 'step-04.2',
        sourceHandle: 'step-04.2_source',
        targetHandle: 'step-04.2_target',
        labelBBox: {
          width: 39,
          height: 26,
        },
      },
      {
        id: 'step-04.3',
        sourceHandle: 'step-04.3_source',
        targetHandle: 'step-04.3_target',
        labelBBox: {
          width: 128,
          height: 47,
        },
      },
    ],
    parallelAreas: [
      {
        parallelPrefix: 'step-04.',
        x: 194,
        y: 690,
        width: 2029,
        height: 338,
      },
    ],
    bounds: {
      x: 0,
      y: 0,
      width: 2385,
      height: 1076,
    },
  },
  bounds: {
    x: 8,
    y: 14,
    width: 1464,
    height: 1051,
  },
  nodes: [
    {
      id: 'cloud',
      parent: null,
      level: 0,
      children: [
        'cloud.next',
        'cloud.ui',
      ],
      inEdges: [],
      outEdges: [
        'step-02',
        'step-03',
        'step-04.1',
        'step-04.2',
        'step-04.3',
      ],
      title: 'Cloud System',
      modelRef: 'cloud',
      shape: 'rectangle',
      color: 'primary',
      style: {
        opacity: 10,
        size: 'md',
      },
      description: {
        txt: 'Our SaaS platfrom that allows\ncustomers to interact with\nthe latest technologies',
      },
      tags: [],
      notation: 'Software system',
      kind: 'system',
      depth: 2,
      navigateTo: 'cloud',
      x: 8,
      y: 14,
      width: 1429,
      height: 715,
      labelBBox: {
        x: 6,
        y: 0,
        width: 91,
        height: 15,
      },
    },
    {
      id: 'cloud.next',
      parent: 'cloud',
      level: 1,
      children: [
        'cloud.next.backend',
        'cloud.next.graphql',
        'cloud.next.events',
      ],
      inEdges: [],
      outEdges: [
        'step-02',
        'step-03',
        'step-04.1',
        'step-04.2',
        'step-04.3',
      ],
      title: 'Cloud Next',
      modelRef: 'cloud.next',
      shape: 'rectangle',
      color: 'primary',
      style: {
        opacity: 10,
        size: 'md',
      },
      description: {
        txt: 'Cloud Next is the next version of our cloud systems',
      },
      tags: [],
      kind: 'container',
      depth: 1,
      navigateTo: 'cloud_next',
      x: 48,
      y: 69,
      width: 832,
      height: 620,
      labelBBox: {
        x: 6,
        y: 0,
        width: 76,
        height: 15,
      },
    },
    {
      id: 'cloud.next.backend',
      parent: 'cloud.next',
      level: 2,
      children: [],
      inEdges: [],
      outEdges: [
        'step-01',
        'step-03',
        'step-04.3',
      ],
      title: 'Backend V2',
      modelRef: 'cloud.next.backend',
      shape: 'rectangle',
      color: 'primary',
      icon: 'tech:nestjs',
      style: {
        opacity: 15,
        size: 'md',
        multiple: true,
      },
      description: {
        txt: 'The next version of backend',
      },
      tags: [
        'api',
      ],
      notation: 'Application',
      kind: 'app',
      navigateTo: 'backend',
      x: 88,
      y: 130,
      width: 320,
      height: 180,
      labelBBox: {
        x: 50,
        y: 63,
        width: 250,
        height: 48,
      },
    },
    {
      id: 'cloud.next.graphql',
      parent: 'cloud.next',
      level: 2,
      children: [],
      inEdges: [],
      outEdges: [
        'step-04.2',
      ],
      title: 'GraphQL',
      modelRef: 'cloud.next.graphql',
      shape: 'rectangle',
      color: 'primary',
      icon: 'tech:graphql',
      style: {
        opacity: 50,
        size: 'md',
      },
      description: {
        txt: 'GraphQL API for the backend\nUses Apollo Server',
      },
      tags: [
        'api',
        'next',
      ],
      kind: 'component',
      navigateTo: 'graphql',
      x: 518,
      y: 130,
      width: 321,
      height: 180,
      labelBBox: {
        x: 46,
        y: 54,
        width: 260,
        height: 66,
      },
    },
    {
      id: 'cloud.next.events',
      parent: 'cloud.next',
      level: 2,
      children: [],
      inEdges: [
        'step-01',
      ],
      outEdges: [
        'step-02',
        'step-04.1',
      ],
      title: 'Events Manager',
      modelRef: 'cloud.next.events',
      shape: 'rectangle',
      color: 'primary',
      style: {
        opacity: 50,
        size: 'md',
      },
      tags: [],
      kind: 'component',
      x: 88,
      y: 469,
      width: 320,
      height: 180,
      labelBBox: {
        x: 85,
        y: 74,
        width: 150,
        height: 24,
      },
    },
    {
      id: 'amazon',
      parent: null,
      level: 0,
      children: [
        'amazon.sqs',
        'amazon.rds.aurora',
        'amazon.rds.pg',
      ],
      inEdges: [
        'step-02',
        'step-03',
        'step-04.1',
        'step-04.2',
        'step-04.3',
      ],
      outEdges: [],
      title: 'Amazon',
      modelRef: 'amazon',
      shape: 'rectangle',
      color: 'amber',
      icon: 'tech:amazon-web-services',
      style: {
        opacity: 10,
        size: 'md',
      },
      description: {
        txt: 'Cloud and managed services provider',
      },
      tags: [],
      notation: 'External System',
      kind: 'externalSystem',
      depth: 1,
      navigateTo: 'amazon',
      x: 212,
      y: 784,
      width: 1260,
      height: 281,
      labelBBox: {
        x: 6,
        y: 0,
        width: 52,
        height: 15,
      },
    },
    {
      id: 'amazon.sqs',
      parent: 'amazon',
      level: 1,
      children: [],
      inEdges: [
        'step-02',
        'step-04.1',
      ],
      outEdges: [],
      title: 'SQS',
      modelRef: 'amazon.sqs',
      shape: 'rectangle',
      color: 'amber',
      icon: 'aws:simple-queue-service',
      style: {
        opacity: 50,
        size: 'md',
      },
      description: {
        txt: 'Simple Queue Service',
      },
      tags: [],
      kind: 'container',
      navigateTo: 'amazon_sqs',
      x: 252,
      y: 845,
      width: 320,
      height: 180,
      labelBBox: {
        x: 69,
        y: 63,
        width: 212,
        height: 48,
      },
    },
    {
      id: 'amazon.rds.aurora',
      parent: 'amazon',
      level: 1,
      children: [],
      inEdges: [
        'step-03',
        'step-04.3',
      ],
      outEdges: [],
      title: 'Aurora',
      modelRef: 'amazon.rds.aurora',
      shape: 'storage',
      color: 'amber',
      icon: 'tech:mysql',
      style: {
        opacity: 50,
        size: 'md',
      },
      description: {
        txt: 'Aurora RDS',
      },
      tags: [
        'db',
      ],
      kind: 'component',
      x: 682,
      y: 845,
      width: 320,
      height: 180,
      labelBBox: {
        x: 104,
        y: 63,
        width: 142,
        height: 48,
      },
    },
    {
      id: 'amazon.rds.pg',
      parent: 'amazon',
      level: 1,
      children: [],
      inEdges: [
        'step-04.2',
      ],
      outEdges: [],
      title: 'PostgreSQL',
      modelRef: 'amazon.rds.pg',
      shape: 'rectangle',
      color: 'amber',
      icon: 'tech:postgresql',
      style: {
        opacity: 50,
        size: 'md',
      },
      tags: [
        'db',
      ],
      kind: 'component',
      x: 1112,
      y: 845,
      width: 320,
      height: 180,
      labelBBox: {
        x: 90,
        y: 74,
        width: 171,
        height: 24,
      },
    },
    {
      id: 'cloud.ui',
      parent: 'cloud',
      level: 1,
      children: [],
      inEdges: [],
      outEdges: [],
      title: 'Frontends',
      modelRef: 'cloud.ui',
      shape: 'browser',
      color: 'primary',
      style: {
        opacity: 10,
        size: 'md',
      },
      description: {
        txt: 'All the frontend applications\nof Cloud System',
      },
      tags: [],
      kind: 'container',
      navigateTo: 'cloud_ui',
      x: 1077,
      y: 123,
      width: 320,
      height: 180,
      labelBBox: {
        x: 66,
        y: 54,
        width: 188,
        height: 66,
      },
    },
  ],
  edges: [
    {
      id: 'step-01',
      source: 'cloud.next.backend',
      target: 'cloud.next.events',
      label: 'triggers',
      dotpos: 'e,248,469.36 248,310.33 248,355.99 248,411.76 248,458.83',
      points: [
        [
          248,
          310,
        ],
        [
          248,
          356,
        ],
        [
          248,
          412,
        ],
        [
          248,
          459,
        ],
      ],
      labelBBox: {
        x: 248,
        y: 384.5,
        width: 73,
        height: 19,
      },
      parent: 'cloud.next',
      relations: [
        'tjd6lh',
      ],
      color: 'gray',
      line: 'dashed',
      head: 'normal',
      tags: [],
      astPath: '/steps@0',
      notes: {
        txt: '- Backend triggers EventManager\n- These calls enriched with data before publishing',
      },
    },
    {
      id: 'step-02',
      source: 'cloud.next.events',
      target: 'amazon.sqs',
      label: 'publishes events',
      dotpos: 'e,252.09,880.34 156.2,649.15 126.93,688.39 107.68,734.84 131.71,776 157.01,819.34 199.06,851.74 242.99,875.54',
      points: [
        [
          156,
          649,
        ],
        [
          127,
          688,
        ],
        [
          108,
          735,
        ],
        [
          132,
          776,
        ],
        [
          157,
          819,
        ],
        [
          199,
          852,
        ],
        [
          243,
          876,
        ],
      ],
      labelBBox: {
        x: 135.5,
        y: 782,
        width: 130,
        height: 19,
      },
      parent: null,
      relations: [
        '13t2tod',
        '1kvdqv3',
        '1tl8shp',
      ],
      color: 'gray',
      line: 'dashed',
      head: 'normal',
      tags: [],
      astPath: '/steps@1',
    },
    {
      id: 'step-03',
      source: 'cloud.next.backend',
      target: 'amazon.rds.aurora',
      label: 'reads/writes',
      dotpos: 'e,770.15,844.39 326.29,310.29 367.35,357.25 418.28,416.02 463,469.2 568.52,594.67 687.57,741.65 763.61,836.25',
      points: [
        [
          326,
          310,
        ],
        [
          367,
          357,
        ],
        [
          418,
          416,
        ],
        [
          463,
          469,
        ],
        [
          569,
          595,
        ],
        [
          688,
          742,
        ],
        [
          764,
          836,
        ],
      ],
      labelBBox: {
        x: 547.5,
        y: 570.5,
        width: 101,
        height: 19,
      },
      parent: null,
      relations: [
        '14uyrh3',
      ],
      color: 'gray',
      line: 'dashed',
      head: 'normal',
      tags: [],
      astPath: '/steps@2',
      navigateTo: 'cloud-to-amazon',
    },
    {
      id: 'step-04.1',
      source: 'cloud.next.events',
      target: 'amazon.sqs',
      label: 'publishes events',
      dotpos: 'e,372.99,845.23 286.87,648.83 311.5,705 343.38,777.72 368.8,835.69',
      points: [
        [
          287,
          649,
        ],
        [
          312,
          705,
        ],
        [
          343,
          778,
        ],
        [
          369,
          836,
        ],
      ],
      labelBBox: {
        x: 328,
        y: 742.5,
        width: 141,
        height: 19,
      },
      parent: null,
      relations: [
        '13t2tod',
        '1kvdqv3',
        '1tl8shp',
      ],
      color: 'gray',
      line: 'dashed',
      head: 'normal',
      tags: [],
      astPath: '/steps@3/steps@0',
    },
    {
      id: 'step-04.2',
      source: 'cloud.next.graphql',
      target: 'amazon.rds.pg',
      label: null,
      dotpos: 'e,1264.8,845.24 839.48,308.5 840.99,309.15 842.5,309.78 844,310.4 930.14,346.05 969.24,316.06 1045,370.4 1195.8,478.56 1246.5,704.18 1263.5,834.84',
      points: [
        [
          839,
          309,
        ],
        [
          841,
          309,
        ],
        [
          843,
          310,
        ],
        [
          844,
          310,
        ],
        [
          930,
          346,
        ],
        [
          969,
          316,
        ],
        [
          1045,
          370,
        ],
        [
          1196,
          479,
        ],
        [
          1247,
          704,
        ],
        [
          1264,
          835,
        ],
      ],
      labelBBox: {
        x: 1149.5,
        y: 483.5,
        width: 23,
        height: 18,
      },
      parent: null,
      relations: [],
      color: 'gray',
      line: 'dashed',
      head: 'normal',
      tags: [],
      astPath: '/steps@3/steps@1',
    },
    {
      id: 'step-04.3',
      source: 'cloud.next.backend',
      target: 'amazon.rds.aurora',
      label: 'reads/writes',
      dotpos: 'e,863.04,844.43 407.92,288.66 573.98,358.86 810.63,460.03 817,469.2 891.33,576.26 881.96,732.89 864.83,834.19',
      points: [
        [
          408,
          289,
        ],
        [
          574,
          359,
        ],
        [
          811,
          460,
        ],
        [
          817,
          469,
        ],
        [
          891,
          576,
        ],
        [
          882,
          733,
        ],
        [
          865,
          834,
        ],
      ],
      labelBBox: {
        x: 786,
        y: 452.5,
        width: 112,
        height: 19,
      },
      parent: null,
      relations: [
        '14uyrh3',
      ],
      color: 'gray',
      line: 'dashed',
      head: 'normal',
      tags: [],
      astPath: '/steps@3/steps@2',
      navigateTo: 'cloud-to-amazon',
    },
  ],
  _layout: 'manual',
  drifts: [
    'includes-more-nodes',
    'includes-more-edges',
    'nodes-mismatch',
    'edges-mismatch',
  ],
}