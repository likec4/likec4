import { Bleed } from 'nextra-theme-docs'
import { Tab, Tabs } from 'nextra-theme-docs'

# Model

Specification, elements and relations are defined in the model.  

## Specification

The block `specification` defines the elements types that can be used in a model.  
The style can be overridden for the whole element type.

Example:

```likec4
specification {

  element cloud
  element system

  element user {
    style {
      // available shapes:
      //  - rectangle (default)
      //  - cylinder
      //  - storage (same as cylinder)
      //  - person
      //  - queue
      //  - browser
      shape person
    }
  }

  // Whatever you want
  element application
  element component
  element microservice
  element queue
  element graphqlMutation

  element database {
    style {
      shape storage      
      // available colors:
      //  - primary (default)
      //  - secondary
      //  - muted
      color secondary
    }
  }

}
```
{/*
**Element Style:** Shape

| shape        | example |
| :------------ | :---------: |
| rectangle (default)       |
| storage, cylinder |    ~~Text~~ |
| person     |  And more |
| queue |      ~~Text~~ |

**Element Style:** Color

| color        | example |
| :------------ | :---------: |
| primary (default)       |
| secondary |    |
| muted     |  |
*/}

## Element

```likec4 filename="element.c4"
specification {
  element component
}

// Inline elements
model {
  // without title
  component restApi
  // or use '='
  restApi = component

  //  with title
  component legacyApi 'Legacy API'
  legacyApi = component 'Legacy API'

  // with title and description
  component legacyApi 'Legacy API' 'Component description'
}
```

Every element has a type (defined in [specification](#specification)), a name (identifier) and optionally title, description and technology.

Element definition:

| Abstract grammar |
| :--------|
| _{'<'}element_type{'>'}_ **NAME** [ title=_string_  [ description=_string_ [ technology=_string_ ] ] ] |
| **NAME** **'='** _{'<'}element_type{'>'}_  [ title=_string_  [ description=_string_ [ technology=_string_ ] ] ]  |

Name is a valid identifier, it can contain letters, digits and underscore, but can't start with a digit.

| example        | |
| :------------ | :--------- |
| api | ✅ |
| _api | ✅ |
| Api | ✅ |
| 1api | ⛔️ |
| _1api | ✅ |

Element name is unique within the container (the same hierarchy level), see [below](#nested-elements).

## Nested elements

Any element is a container and can contain other elements.

```likec4 filename="nested-elements.c4"
specification {
  element service
  element component
}

// Nested elements
model {

  // service1 has backend and frontend
  service service1 'Service 1' {

    // backend has api
    component backend {
      component api 'Rest API'
    }
    component frontend
  }

  // or use '=' (or even both)
  service2 = service 'Service 2' {    
    component backend {
      api = component 'GraphQL API'
    }
    component frontend
  }
}
```

Nested elements are _"namespaced"_, so the model above has the following elements:

- `service1`  
- `service1.backend`
- `service1.backend.api` 
- `service1.frontend`

and:

- `service2`
- `service2.backend`
- `service2.backend.api`
- `service2.frontend`

It is not possible to have elements with the same name on the same hierarchy level.

```likec4 filename="nested-elements.c4"
specification {
  element service
  element component
}

model {

  service service1 'Service 1' {
    component backend 

    component backend // ⛔️ Error: 'service1.backend' already defined
  }
  
  service service2 'Service 2' {
    component backend 

    component legacy {
      component backend // ✅ This is OK, 'service2.backend' and 'service2.legacy.backend'
    }
  }

  component backend // ✅ This is OK

  // ✅ This is OK
  component legacy {
    component backend
  }

}
```

## Element properties

...
