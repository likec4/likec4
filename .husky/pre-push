# Run the same validation as CI when pushing to main
run_validate=0
while read -r local_ref local_sha remote_ref remote_sha; do
  if [ "$remote_ref" = "refs/heads/main" ]; then
    run_validate=1
    break
  fi
done
if [ "$run_validate" = "1" ]; then
  pnpm validate
  exit $?
fi
exit 0
