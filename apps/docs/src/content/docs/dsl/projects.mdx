---
title: Multi-projects
description: Learn how to split your LikeC4 model into multiple projects
sidebar: 
  label: Multi-projects
  order: 13
---

import { Card, FileTree, Aside } from '@astrojs/starlight/components';

Sometimes you may want to split your LikeC4 model into multiple ones, based on domains, teams, or any other criteria.

You can do this by creating multiple projects in your workspace and linking them together.  
You can also use this feature to share your model with other teams or projects.

## Usage

To mark a folder as a project, create a `likec4.config.json` file in the folder:

<FileTree>
- cloud
  - likec4.config.json
  - service1.c4
  - service2.c4
  - ...
- externals
  - likec4.config.json
  - amazon.c4
  - ...
</FileTree>

The `likec4.config.json` file must have the name of the project and must be unique in the workspace.


```json
{
  "name": "project-name",
  "title": "Project Title"
}
```

:::note
You can use these names for the config file:
- `.likec4rc`
- `.likec4.config.json`
- `likec4.config.json`

LikeC4 interprets any file as JSON5
:::

## Exclude files

By default, LikeC4 recursively scans in the project folder.  
You can exclude files by adding an `exclude` array to the config file.

```json
{
  "name": "project-name",
  "exclude": [
    "**/node_modules/**/*"
  ]
}
```

If no exclude pattern is provided, LikeC4 uses `["**/node_modules/**/*"]` as default.  
The exclude pattern is the same as the one used by [picomatch](https://github.com/micromatch/picomatch).  


## Import elements

You can import elements from other projects by using the `import` keyword.

```likec4
import { serviceA } from 'projectA'

model {
  serviceB = service {
    -> serviceA.api 'calls serviceA'
  }
}
```

<Aside type='caution' title="Limitations">
At the moment, the following limitations apply:
- Referenced projects must be loaded in the same workspace
- Only top-level **model** elements can be imported
</Aside>

## Image Aliases

When using local images in your LikeC4 model, you can create aliases for the folder your immages are in to make them more readable and the files more transportable.

Use the `likec4.config.json` to add an `imageAliases` field:

```json
{
  "name": "project-name",
  "imageAliases": {
    "@": "./images",
    "@root": "../../some-more-images"
  }
}
```

You can then use the alias in your model:

```likec4
// ./amazon.c4
model {
  serviceA = service {
    icon: '@/service-a.png'
  }

  serviceB = service {
    icon: '@root/service-b.png'
  }
}

// ./externals/externals.c4
model {
  serviceC = service {
    icon: '@/service-c.png'
  }
}
```

<FileTree>
- some-more-images
  - service-b.png
  - ...
- docs
  - project
    - images
      - service-a.png
      - service-c.png
      - ...
    - externals
      - externals.c4
    - likec4.config.json
    - amazon.c4
    - ...
</FileTree>

:::note
In the example above the `externals.c4` is a nested file, but the aliasing works based on the workspace root.
:::

### Naming Rules

When using image aliases, keep the following rules in mind:

- Aliases must start with `@` and can include letters, numbers, and underscores.
- The alias must be unique within the project.
- The alias can point to a relative or absolute path.

### Defaults

```json
{
  "imageAliases": {
    "@": "./images",
  }
}
```

When no LikeC4 configuration file is found, or when no `imageAliases` field is found, LikeC4 uses the following defaults:

```json
{
  "imageAliases": {
    "@": "./images",
  }
}
```

This is true even if you specify other aliases. Simply override the `@` to change the default location.

```json
{
  "imageAliases": {
    "@": "./images",
  }
}
```

This is true even if you specify other aliases. Simply override the `@` to change the default location.
